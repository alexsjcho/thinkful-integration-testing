{"ast":null,"code":"import _classCallCheck from \"/Users/alexcho/Downloads/nytClient-master/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alexcho/Downloads/nytClient-master/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alexcho/Downloads/nytClient-master/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alexcho/Downloads/nytClient-master/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alexcho/Downloads/nytClient-master/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/alexcho/Downloads/nytClient-master/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Book from './book/book';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      books: [],\n      search: '',\n      sort: '',\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"setSearch\",\n    value: function setSearch(search) {\n      this.setState({\n        search: search\n      });\n    }\n  }, {\n    key: \"setSort\",\n    value: function setSort(sort) {\n      this.setState({\n        sort: sort\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var baseUrl = 'http://localhost:8000/books';\n      var params = [];\n\n      if (this.state.search) {\n        params.push(\"search=\".concat(this.state.search));\n      }\n\n      if (this.state.sort) {\n        params.push(\"sort=\".concat(this.state.sort));\n      }\n\n      var query = params.join('&');\n      var url = \"\".concat(baseUrl, \"?\").concat(query);\n      fetch(url).then(function (res) {\n        if (!res.ok) {\n          throw new Error(res.statusText);\n        }\n\n        return res.json();\n      }).then(function (data) {\n        _this2.setState({\n          books: data,\n          error: null\n        });\n      }).catch(function (err) {\n        _this2.setState({\n          error: 'Sorry, could not get books at this time.'\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var books = this.state.books.map(function (book, i) {\n        return React.createElement(Book, Object.assign({}, book, {\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }));\n      });\n      return React.createElement(\"main\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"NYT Best Sellers\"), React.createElement(\"div\", {\n        className: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this3.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Search: \"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"search\",\n        name: \"search\",\n        value: this.state.search,\n        onChange: function onChange(e) {\n          return _this3.setSearch(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"sort\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Sort: \"), React.createElement(\"select\", {\n        id: \"sort\",\n        name: \"sort\",\n        onChange: function onChange(e) {\n          return _this3.setSort(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"None\"), React.createElement(\"option\", {\n        value: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"option\", {\n        value: \"rank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Rank\")), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Search\")), React.createElement(\"div\", {\n        className: \"App_error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.state.error)), books);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/alexcho/Downloads/nytClient-master/src/App.js"],"names":["React","Component","Book","App","props","state","books","search","sort","error","setState","e","preventDefault","baseUrl","params","push","query","join","url","fetch","then","res","ok","Error","statusText","json","data","catch","err","map","book","i","handleSubmit","setSearch","target","value","setSort"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Book from './book/book';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [],\n      search: '',\n      sort: '',\n      error: null\n    }\n  }\n\n  setSearch(search) {\n    this.setState({\n      search\n    });\n  }\n\n  setSort(sort) {\n    this.setState({\n      sort\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const baseUrl = 'http://localhost:8000/books';\n    const params = [];\n    if(this.state.search) {\n      params.push(`search=${this.state.search}`);\n    }\n    if(this.state.sort) {\n      params.push(`sort=${this.state.sort}`);\n    }\n    const query = params.join('&');\n    const url = `${baseUrl}?${query}`;\n\n    fetch(url)\n      .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json();\n      })\n      .then(data => {\n        this.setState({\n          books: data,\n          error: null\n        });\n      })\n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get books at this time.'\n        });\n      })\n\n  }\n\n  render() {\n    const books = this.state.books.map((book, i) => {\n      return <Book {...book} key={i}/>\n    })\n    return (\n      <main className=\"App\">\n        <h1>NYT Best Sellers</h1>\n        <div className=\"search\">\n          <form onSubmit={e => this.handleSubmit(e)}>\n            <label htmlFor=\"search\">Search: </label>\n            <input \n              type=\"text\" \n              id=\"search\" \n              name=\"search\" \n              value={this.state.search}\n              onChange={e => this.setSearch(e.target.value)}/>\n\n            <label htmlFor=\"sort\">Sort: </label>\n            <select id=\"sort\" name=\"sort\" onChange={e => this.setSort(e.target.value)}>\n              <option value=\"\">None</option>\n              <option value=\"title\">Title</option>\n              <option value=\"rank\">Rank</option>\n            </select>  \n            <button type=\"submit\">Search</button>  \n          </form>\n          <div className=\"App_error\">{ this.state.error }</div>\n        </div>\n        {books}\n      </main>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}